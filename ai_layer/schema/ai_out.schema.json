{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "AIOut",
  "type": "object",
  "required": ["id","model","version","sentiment","stance","certainty","agency","narrative_tags","vanta1","vanta2","rationales","confidence","latency_ms"],
  "properties": {
    "id": {"type":"string"},
    "model": {"type":"string"},
    "version": {"type":"string"},
    "sentiment": {"type":"number", "minimum": -1, "maximum": 1},
    "stance": {"type":"string", "enum": ["bullish","bearish","neutral"]},
    "certainty": {"type":"number", "minimum": 0, "maximum": 1},
    "agency": {
      "type":"object",
      "required": ["institutional","retail"],
      "properties": {
        "institutional": {"type":"number", "minimum": 0, "maximum": 1},
        "retail": {"type":"number", "minimum": 0, "maximum": 1}
      }
    },
    "narrative_tags": {"type":"array","items":{"type":"string"}},
    "vanta1": {"type":"object"},
    "vanta2": {"type":"object"},
    "rationales": {"type":"array","items":{"type":"string"}},
    "confidence": {"type":"number", "minimum": 0, "maximum": 1},
    "latency_ms": {"type":"integer", "minimum": 0}
  },
  "additionalProperties": false
}
